<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><link href="/Abacus/exigo.css" rel="stylesheet"></link></head><body><header><a href="/Abacus/"><img height="80px" src="/Abacus/Images/AbacusLight.svg" width="auto"></img></a><nav><a href="/Abacus/UserGuide">User Guide</a><a href="/Abacus/ObjectReference">Object Reference</a><a href="/Abacus/FunctionReference">Function Reference</a></nav></header><main><h1>Components</h1><p>An Abacus component is an HTMLElement, some child elements, some CSS, and some behavior. Components may be as simple as the <a href="/Abacus/ObjectReference/CheckBox">CheckBox</a>, or as complex as the <a href="/Abacus/ObjectReference/DataGrid">DataGrid</a>.</p><blockquote><p>Abacus components are not Web Components. There is no shadow DOM. </p></blockquote><p>A component is implemented as a namespace, with a <code>New</code> function or method. The left argument to <code>New</code> is an optional parent element and name. Either parameter may be provided, or both. Let's create a checkbox component:</p><pre><code>      c←'MyCheckBox' A.CheckBox.New 'Check here' ('Value' 1)      A.Render c&lt;div onchange="sendAPLRequest(event)" class="CheckBox"&gt;              &lt;input checked="checked" type="checkbox"&gt;&lt;/input&gt;  &lt;label&gt;Check here&lt;/label&gt;&lt;/div&gt;</code></pre><p>The right argument to <code>New</code> is a set of properties that may  be specified by position or by name, and will vary by component. The checkbox component takes a label, a value, and callback function for handling changes.</p><p>By inspection we see that the checkbox component is implemented as a div containing an input and label. Each component has an eponymously named class associated with it.</p><p>The name should be a valid APL indentifier, and is accessible under the <code>Name</code> property:</p><pre><code>      c.NameMyCheckBox </code></pre><p>The component <code>Name</code> is strictly a part of the APLDOM, and plays no part in the browswer DOM. It is not the same as the <code>name</code> HTML attribute,  used when submitting forms, which generally does not play a role in Abacus.     In a function (as oposed to the session), if we do not specify a name in the left argument to <code>New</code> then Abacus will assign a name by inspecting the left side of the assignment arrow. That is:</p><pre><code>      MyCheckBox←CheckBox.New 'Check here:'</code></pre><p>is equivalent to:</p><pre><code>     c←'MyCheckBox' CheckBox.New 'Click here:'</code></pre><p>This leads to cleaner and more concise code. </p><p>The component <code>Name</code> uniquely identifies the component within some document node. Unlike the HTML <code>id</code> attribute, it does not need to be unique within the document as a whole. All components must have a <code>Name</code>.</p><p>Components usually have a <code>Value</code> property, which may anything from a simple Boolean to a large nested matrix.</p><p>....more here....      </p><p>Inline styles can be added to components, just like basic HTML elements:</p><pre><code>     c._color←'yellow'     A.Render c&lt;div onchange="sendAPLRequest(event)" class="CheckBox" style="color:yellow"&gt;  &lt;input checked="checked" id="MyCheckBox" type="checkbox"&gt;&lt;/input&gt;           &lt;label for="MyCheckBox"&gt;Check here&lt;/label&gt;                                &lt;/div&gt;</code></pre><h2>Events</h2><p>Components may raise events. For each event, the component will have a corresonding <code>On[Eventt]</code> property for  specifying an event  callback function. For example, the DataGrid component has a <a href="/Abacus/ObjectReference/DataGrid/Events/BeforeCellChange">BeforeCellChange</a> event, and thus a corresponding <code>OnBeforeCellChange</code> property. Only the event is documented.</p><p>The right argument provided to the event handler is a namespace containing at least three items:</p><table><thead><tr><th class="left">Name      </th><th class="left">Value</th><th class="center">          </th></tr></thead><tbody><tr><td class="left">Event     </td><td class="left"> The event name, e.g. 'BeforeCellChange`</td><td class="center">  </td></tr><tr><td class="left">Component </td><td class="left"> The component that fired the event     </td><td class="center">          </td></tr><tr><td class="left">Document  </td><td class="left"> The associated document                </td><td class="center">          </td></tr></tbody></table><p>There will typically be more event-specific items in the event message space. </p><p>If an event name begins with <code>Before</code>, then, depending on the specific event, it may be altered or prevented. A callback function should return a 0 for normal event processing, and a <code>1</code> to cancel the event. To the extent the specific  event allows it, the event may be altered by having the callback function reset certain veriables in the event message space. </p></main><footer></footer></body></html>
