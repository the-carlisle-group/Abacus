<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"></meta><link href="/Abacus/exigo.css" rel="stylesheet"></link></head><body><header><a href="/Abacus/"><img height="80px" src="/Abacus/Images/AbacusLight.svg" width="auto"></img></a><nav><a href="/Abacus/UserGuide">User Guide</a><a href="/Abacus/ObjectReference">Object Reference</a><a href="/Abacus/FunctionReference">Function Reference</a></nav></header><main><h1>Events</h1><p>JavaScript events may be intercepted and reported back to APL by specifying the <code>On[event]</code> property of an element. For example, to capture the <code>click</code> event of a button:</p><pre><code>      b←A.New 'button'      b.Onclick←A.FQP 'MyCallBack'</code></pre><p>This will execute the 'MyCallBack' function back in APL when the user clicks the button.</p><p>The right argument provided to the callback function is the <em>event message namespace</em>, which contains all of the necessary information to handle the event. Not all values are applicable to all events.   The event message space contains:</p><table><thead><tr><th class="left">Name            </th><th class="left">Value     </th><th class="center">                </th></tr></thead><tbody><tr><td class="left">Event           </td><td class="left">The event name e.g.: 'click'         </td><td class="center">                </td></tr><tr><td class="left">Document        </td><td class="left">The document            </td><td class="center">                </td></tr><tr><td class="left">CurrentTarget   </td><td class="left">The element to which the callback is attached</td><td class="center">                </td></tr><tr><td class="left">Target          </td><td class="left">The element that reported the event</td><td class="center">                </td></tr><tr><td class="left">Value           </td><td class="left">The <em>value</em> attribute of the target element</td><td class="center"> </td></tr><tr><td class="left">Name            </td><td class="left">The <em>name</em> attribute of the target element</td><td class="center"> </td></tr><tr><td class="left">Key             </td><td class="left">The key value, e.g. 'Enter' </td><td class="center">                </td></tr><tr><td class="left">CtrlKey         </td><td class="left">Ctrl key state (Boolean)</td><td class="center">                </td></tr><tr><td class="left">AltKey          </td><td class="left">Alt key state (Boolean) </td><td class="center">                </td></tr><tr><td class="left">ShiftKey        </td><td class="left">Shift key state (Boolean</td><td class="center">                </td></tr><tr><td class="left">MouseButton     </td><td class="left">The button property     </td><td class="center">                </td></tr><tr><td class="left">MouseButtons    </td><td class="left">The buttons property    </td><td class="center">                </td></tr></tbody></table><p>Abacus <a href="components">components</a> may also raise events. These have event message spaces particular to each component, but always include Event, Document, and Component, a reference to  the component that raised the event.      </p><h2>Case Sensitivity</h2><p>Note well the case sensitivity when specifying <code>Onclick</code>: the upper case <code>O</code> in <code>On</code>, while the JavaScript event name <code>click</code> is all lower case. If we were to write:</p><pre><code>      b.onclick←'some string'</code></pre><p>we would be specifying an HTML attribute, and be delegating everything to the browser, which would expect 'some string<code> to be </code>JavaScript` to be executed.</p><p>Futhermore components will often have events that begin with an upper case letter, like <code>Click</code>, in which case the callback is specified as:   </p><pre><code>     b.OnClick←A.FQP 'MyCallBack'</code></pre><p>Again, note the case sensitivity. </p></main><footer></footer></body></html>
